#!/bin/bash

echo "ğŸ—ï¸  Running pre-commit build check..."

# í”„ë¡œì íŠ¸ ë£¨íŠ¸ë¡œ ì´ë™ (í›…ì´ .git/hooksì—ì„œ ì‹¤í–‰ë˜ë¯€ë¡œ ìƒìœ„ë¡œ ì´ë™í•  í•„ìš”ê°€ ìˆì„ ìˆ˜ ìˆìœ¼ë‚˜, 
# git hookì€ ë³´í†µ ë ˆí¬ì§€í† ë¦¬ ë£¨íŠ¸ì—ì„œ ì‹¤í–‰ë¨)

if [ -f "./gradlew" ]; then
    ./gradlew assembleDebug
    EXIT_CODE=$?
else
    echo "âš ï¸  Gradle wrapper not found. Skipping build check."
    exit 0
fi

if [ $EXIT_CODE -ne 0 ]; then
    echo "âŒ  Build failed! Please fix build errors before committing."
    exit 1
fi

echo "âœ…  Build successful!"
exit 0
